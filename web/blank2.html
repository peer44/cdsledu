<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin 2 - Dashboard</title>
    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link href="vendor/toastr/toastr.css" rel="stylesheet">
    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.css" rel="stylesheet">
</head>

<body id="page-top">
<div id="wrapper">
    <!-- 左侧菜单开始 -->
    <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">
        <a class="sidebar-brand d-flex align-items-center justify-content-center" href="index.html">
            <div class="sidebar-brand-icon rotate-n-15">
                <i class="fas fa-laugh-wink"></i>
            </div>
            <div class="sidebar-brand-text mx-3" id="productName">SB Admin <sup>2</sup></div>
        </a>
        <!-- 一个占位符 -->
        <li class="nav-item active" id='postionHave'>
            <a class="nav-link" href="index.html">
                <i class="fas fa-fw fa-tachometer-alt"></i>
                <span>Dashboard</span></a>
        </li>
        <!-- Sidebar Toggler (Sidebar) -->
        <!-- <div class="text-center d-none d-md-inline">
          <button class="rounded-circle border-0" id="sidebarToggle"></button>
        </div> -->
    </ul>
    <!-- 左侧菜单结束 -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">
            <!-- 顶部信息 -->
            <nav class="navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow" id="top"></nav>
            <!-- 顶部信息 -->

            <!-- 页面内容 -->

            <div class="card-header py-3 text-red">
                请选择就读方式：<input type="radio" name="jdfs" id="rents" value="rents" checked> 居住就读
                <input type="radio" name="jdfs" id="points" value="points"> 积分就读
            </div>

            <div class="container-fluid">

                <!-- Page Heading -->
                <table class="table" id="studentTable">
                    <tbody>
                    <tr>
                        <td>证件持有人姓名</td>
                        <td><input name="guarder" id="guarder"/></td>
                        <td>证件持有人身份证</td>
                        <td><input name="guarderId" id="guarderId"/></td>
                        <td>联系电话</td>
                        <td><input name="telephone" id="telephone"/></td>
                    </tr>

                    <tr>
                        <td>证件类别</td>
                        <td>
                            <input type="radio" name="idType" id="jzz" value="jzz" checked> 居住证
                            <input type="radio" name="idType" id="jzdjzm" value="jzdjzm"> 居住登记证明
                        </td>
                        <td>证件编码</td>
                        <td><input name="id" id="id"/></td>
                        <td>证件住址</td>
                        <td><input type="text" name="idAddress" id="idAddress"/></td>
                    </tr>

                    <tr id="rent">
                        <td>人员类型</td>
                        <td>
                            <input type="radio" name="work" id="dwzg" value="dwzg" checked> 单位职工
                            <input type="radio" name="work" id="gtgsh" value="gtgsh"> 个体工商户
                        </td>
                        <td>租房备案号</td>
                        <td><input name="rentNum" id="rentNum"/></td>
                        <td>住址所属社区</td>
                        <td>
                            <select id="town" required>
                                <option value="">--请选择--</option>
                            </select>
                            <select id="village" required>
                                <option value="">--请选择--</option>
                            </select>
                        </td>

                    </tr>

                    <tr id="company">
                        <td>单位名称</td>
                        <td><input name="companyName" id="companyName"/></td>
                        <td>单位地址</td>
                        <td><input name="companyAddress" id="companyAddress"/></td>
                        <td>社会信用代码</td>
                        <td><input name="companyId" id="companyId"/></td>
                    </tr>

                    <tr id="point">
                        <td>居住积分</td>
                        <td>
                            <select id="live_point" onchange="point()">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                            </select>
                        </td>
                        <td>社保积分</td>
                        <td>
                            <select id="social_point" onchange="point()">
                                <option value="0">0</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                                <option value="9">9</option>
                                <option value="10">10</option>
                                <option value="11">11</option>
                                <option value="12">12</option>
                            </select></td>
                        <td>总积分</td>
                        <td>
                            <input type="text" name="score" id="total_point" placeholder="0" onblur="point()" checked>
                        </td>
                    </tr>

                    <tr>
                        <td>社保编码</td>
                        <td><input name="socialId" id="socialId"/></td>
                        <td>缴纳方式</td>
                        <td>
                            <input type="radio" name="payMethod" id="dw" value="dw" checked> 单位
                            <input type="radio" name="payMethod" id="gr" value="gr"> 个人
                        </td>
                        <td>学生姓名</td>
                        <td><input type="text" name="xsName" id="xsName"/></td>

                    </tr>

                    <tr>
                        <td>学生身份证</td>
                        <td><input type="text" name="xsId"  id="xsId"/></td>
                        <td>学生性别</td>
                        <td>
                            <input type="radio" name="xsGender" value="male" checked> 男
                            <input type="radio" name="xsGender" value="female"> 女
                        </td>
                        <td>申请入学年级</td>
                        <td>
                            <select class="custom-select" id="grade" required>
                                <option value="">--请选择--</option>
                                <option value="1">一年级</option>
                                <option value="2">二年级</option>
                                <option value="3">三年级</option>
                                <option value="4">四年级</option>
                                <option value="5">五年级</option>
                                <option value="6">六年级</option>
                                <option value="7">七年级</option>
                                <option value="8">八年级</option>
                                <option value="9">九年级</option>
                            </select>
                        </td>

                    </tr>

                    <tr>
                        <td>学籍号</td>
                        <td><input name="xjh" id="xjh"/></td>
                        <td>户籍地址</td>
                        <td  colspan="3" id="disSelect">
                            <select  class="custom-select col-md-4"   id="province" data-province="四川省"></select>
                            <select  class="custom-select col-md-3" id="city" data-city="成都市"></select>
                            <select  class="custom-select col-md-3" id="county" data-county="双流区"></select></td>
                    </tr>
                    <tr>
                        <td>备注</td>
                        <td colspan="5" id="bz"><label>
                            <input type="text" name="bz" style="width:500%" maxlength="30">
                        </label></td>
                    </tr>
                    <tr>
                        <td align="center" colspan="6">
                            <button class="btn btn-primary" type="submit" id="submit" style="width: 15%">提交</button>
                        </td>
                    </tr>

                    </tbody>
                </table>
            </div>
            <!-- 页面内容 -->
        </div>

        <!-- 尾部信息 -->
        <footer class="sticky-footer bg-white" id="footer">
        </footer>
        <!-- 尾部信息 -->
    </div>

</div>
<!-- Bootstrap core JavaScript-->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<!-- Core plugin JavaScript-->
<script src="vendor/jquery-easing/jquery.easing.min.js"></script>
<script src="vendor/toastr/toastr.min.js"></script>
<!--<script src="vendor/jquery-validation/jquery.validate.js"></script>
<script src="vendor/jquery-validation/messages_zh.js"></script>-->
<!-- Custom scripts for all pages-->
<script src="js/sb-admin-2.min.js"></script>

<!-- Page level custom scripts -->
<script src="js/config.js"></script>
<script src="js/common.js"></script>
<script src="js/user-info-menu.js"></script>
<script src="js/distpicker.js"></script>

<script type="text/javascript">
    $(function() {
        $("#disSelect").distpicker();
    });
</script>

<script>
    function point() {
        let livePoint = $("#live_point").val();
        let socialPoint = $("#social_point").val();
        console.info("livePoint:" + livePoint);
        console.info("socialPoint:" + socialPoint);
        let total_point = livePoint*1 + socialPoint*1;
        $("#total_point").val(total_point);
    }
</script>

<script>
    $(document).ready(function(){
          $("#point").hide();
            $("input[type=radio][name=jdfs]").change(function(){
                if(this.value==="points") {
                  $("#point").show();
                  $("#rent").hide();
                  $("#company").hide();
                }
                else if(this.value==="rents"){
                    $("#point").hide();
                    $("#rent").show();
                    $("#company").show();
                }
            });
    });
</script>

<script>
    // 验证中文名称
    function isChinaName(name) {
        let pattern = /^[\u4E00-\u9FA5]{1,6}$/;
        return pattern.test(name);
    }

    // 验证手机号
    function isPhoneNo(phone) {
        let pattern = /^1[34578]\d{9}$/;
        return pattern.test(phone);
    }

    // 验证身份证
    function isCardNo(card) {
        let pattern = /(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;
        return pattern.test(card);
    }

    // 验证函数
    function formValidate() {
        let str = '';

        // 判断名称
        if($.trim($("#xsName").val()).length === 0) {
            str += '请输入学生姓名\n';
            $('#xsName').focus();
        } else {
            if(isChinaName($.trim($('#xsName').val())) === false) {
                str += '请输入合法的学生姓名\n';
                $('#xsName').focus();
            }
        }

        if($.trim($("#guarder").val()).length === 0) {
            str += '请输入证件持有人姓名\n';
            $('#guarder').focus();
        } else {
            if(isChinaName($.trim($('#guarder').val())) === false) {
                str += '请输入合法的证件持有人姓名\n';
                $('#guarder').focus();
            }
        }

        // 判断手机号码
        if ($.trim($('#telephone').val()).length === 0) {
            str += '联系电话没有输入\n';
            $('#telephone').focus();
        } else {
            if(isPhoneNo($.trim($('#telephone').val()) === false)) {
                str += '请输入合法的联系电话\n';
                $('#telephone').focus();
            }
        }

        // 验证身份证
        if($.trim($('#xsId').val()).length === 0) {
            str += '学生身份证号码没有输入\n';
            $('#xsId').focus();
        } else {
            if(isCardNo($.trim($('#xsId').val())) === false) {
                str += '学生身份证号不正确；\n';
                $('#xsId').focus();
            }
        }

        if($.trim($('#guarderId').val()).length === 0) {
            str += '证件持有人身份证号码没有输入\n';
            $('#guarderId').focus();
        } else {
            if(isCardNo($.trim($('#guarderId').val())) === false) {
                str += '证件持有人身份证号不正确；\n';
                $('#guarderId').focus();
            }
        }

        // 验证地址
        if($.trim($('#idAddress').val()).length === 0) {
            str += '请输入证件住址\n';
            $('#idAddress').focus();
        }
        if($.trim($('#companyAddress').val()).length === 0) {
            str += '请输入单位地址\n';
            $('#companyAddress').focus();
        }

        // 如果没有错误则提交
        if(str !== '') {
            alert(str);
            return false;
        } else {
            $('.auth-form').submit();
        }
    }

    $('#submit').on('click', function() {
        formValidate();
    });
</script>

</body>

</html>